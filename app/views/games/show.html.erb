<%#
# List of all players(2) in the game in game show page
# A button to start guessing
# After the guess I will be redirected to the game show page
# I will see the number of points that I scored for that guess
# Press the button to move on to the next guess
# The guessing part goes on until I guessed all user questions
# Once every user done the guessing the page will show all user scores
%>


<%# Display list of players %>
<h2>Topic : <%= @game.topic.topic %></h2>
<h2>Players:</h2>

<ul>
  <% @users.each do |user| %>
    <li><%= user.name %></li>
  <% end %>
</ul>


<%= link_to "Set your dial", new_game_set_dial_path(@game), method: :get %>

<%# Button to move to the next guess %>
<% next_guess = current_user.next_dial_id_to_guess(@game)%>
<% if next_guess %>
<%= link_to "Next Guess", new_set_dial_dial_guess_path(next_guess) %>
<%end%>

<% @set_dials.each do |set_dial| %>
  <p> For the range <%= set_dial.dial.left%>(0) to <%= set_dial.dial.right%>(100)</p>
  <p> The number was <%= set_dial.setter_value %> </p>
  <p> <%= set_dial.user.name %> chose <%= set_dial.setter_word%> </p>

  <% set_dial.dial_guesses.each do |dial_guess| %>
  <p> <%= dial_guess.user.name%> guessed <%= dial_guess.guessed_value%> </p>
  <p> so they get <%= dial_guess.points.abs%> points <p>
  <% end %>
  <% end %>
