<!DOCTYPE html>
<html lang="en">
<head>
<style>
</style>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYNC</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="app-header">
        <h1>SYNC</h1>
    </header>

    <main class="app-content">

    </main>
</body>
</html>

        <section class="introduction">
            <p>Where minds connect...</p>
        </section>

        <div data-controller="instructions">

            <button data-action="click->instructions#reveal" class="how-it-works-btn" aria-label="How it works">?</button>



            <div data-instructions-target="revealInstructions" class="d-none">
              <%= render "pages/instructions" %>
            </div>
        </div>

        <div data-controller="toggle" class="mt-5">

            <button data-action="click->toggle#fire" class="animated-gradient-button create-group-btn">Create a Group</button>


            <div data-toggle-target="createGroup" class="d-none">
                <%= simple_form_for(@group) do |f| %>
                <%= f.input :name, label: 'Group Name' %>
                Invitation Code <i class="fas fa-question-circle" data-bs-toggle="popover" title="Invite your friend via code"
                data-bs-content="Must be 4 digits of capital letters"></i>
                <%= f.input :code, label: false %>
                <%= f.submit %>
                <% end %>
            </div>
        </div>

        <div data-controller="toggle" class="mt-5">
          <button class="btn btn-outline-primary" data-action="click->toggle#fire">Join a Group</button>
            <div data-toggle-target="createGroup" class="d-none">
                <%= simple_form_for(@group_subscription) do |f| %>
                Invitation Code <i class="fas fa-question-circle" data-bs-toggle="popover" title="Join your friend via code"
                data-bs-content="Must be 4 digits of capital letters"></i>
                <%= simple_fields_for :other do |o| %>
                <%= o.input :code, label: false %>
                <% end %>
                <%= f.submit "Join the Group" %>
                <% end %>
            </div>
        </div>

        <% if current_user %>
          <div class="justify-content-center d-flex">
            <ul>
              <% @groups.each do |group| %>
                <li><h2><%= group.name %></h2></li>
                <div data-controller="clipboard" data-clipboard-feedback-text-value="Copied!">
                  <input data-clipboard-target="input" type="text" value=<%= group.code %> readonly>
                  <button class="btn btn-sm btn-primary" data-action="click->clipboard#copy">Copy</button>
                </div>

                <p>players :</p>
                <% group.group_subscriptions.each do |gs|%>
                  <p><%= gs.user.name %></p>
                <% end %>


                <% if group.user == current_user %>
                  <div data-controller="topics" class="mt-5">
                  <%= link_to "Delete", group_path(@user), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}%>
                    <button class="btn btn-outline-primary" data-action="click->topics#show" data-topics-target="button">Choose a topic</button>
                    <div data-topics-target="topicsMenu" class="d-none">
                      <%= render 'topics', group: group %>
                    </div>
                  </div>
                <% end %>
                <button class="btn btn-outline-primary d-none">Enter Game</button>
                <% if group.game && group.game.status%>
                <%= link_to "Enter Game", game_path(group.game) %>
                <% end %>
              <% end %>
            </ul>
          </div>
        <% end %>
    </main>
